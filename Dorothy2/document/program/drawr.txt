drawr.dms


drawr 用のスクリプトです。

使い方によっては接続先サーバに高い負荷を掛けてしまうことがあるので、十分
ご注意下さい。

一括ダウンロード時に HTML 解析に失敗するようなことがあるかも知れないので、
ファイルを取りこぼしていないか必ず確認して下さい。


使用方法
========

以下の手順で設定ファイル（.ini）が開くので、好みで書き換えて下さい。
  ツール → メインメニュー → 動画ダウンロード設定２
  プログラムを右クリック → 設定


対応 URL
========

http://drawr.net/[a-z0-9][-_a-z0-9]+[a-z0-9]
  プロフィールのページ
  その作者の全作品をダウンロード。

http://drawr.net/user.php?id=\d+
  作品一覧のページ
  ページ番号が指定されていればそのページ、そうでなければ全ページの
  作品をダウンロード。

  1ページ目だけダウンロードしたい場合は ?page=1 を付ける。

http://drawr.net/show.php?id=\d+
  イラストまたはスレッドのページ
  そのページの全てのイラストをダウンロード。

http://drawr.net/show.php?id=\d+#rid\d+
  イラストまたはスレッドのページの特定イラスト
  フラグメント識別子で指定された画像だけダウンロード。


仕様・制限事項
==============


変更履歴
========

2014-03-31  version 20140331.0  rentan at rentan.org
  GNU GPL v3 or later を適用。
  このファイルを UTF-8 に変更。

  古い形式のファイル名変数 %ILLUST_ID% を削除。

2012-11-19
  微調整。

2012-07-11
  大幅に変更。

  http://drawr.net/user.php?id=\d+ でページ番号が指定されている場合は
  そのページだけダウンロードするようにした。

  ファイル名変数
    %ID%  %ILLUST_ID% から変更
    %YYYY%  新規、西暦4桁
    %YY%  西暦の下2桁に変更
    %HH%  %hh% から変更
    %MI%  %mm% から変更
    %SS%  %ss% から変更

2012-03-29
  common\{http,utf8}.dms を使うようにした。

2011-12-18
  Dorothy.userPath、Dorothy.userIniPath を使うようにした。
  .ini ファイルの読み込みを common\fnutil.dms に実装。

2011-12-05
  ヘッダの match= を修正。コメント（フィルタリング設定）を修正。

  remove_this() を common/fnutil.dms に移動。
  ソースの簡素化のため、common_load() を冒頭で一括して行うようにした。

2011-10-17
  スレッドのコメント画像をダウンロードしないことがある不具合を修正。

  一括ダウンロード時に Dorothy.fileName を書き換えないようにした。
  ファイルを1個だけダウンロードする時に item.filename ではなく
  Dorothy.fileName を書き換えるようにした。

2011-09-06
  簡易設定機能を追加（.ini ファイルを開く）。

  動作には関係ないソースコードの変更:
    { saveas: ～ } を { Filename: ～ } に変更。
    spec.day を spec.date に修正。

2011-08-31
  初期バージョン。


[EOF]
